import webview # type: ignore
import threading
import subprocess
import time

def start_flask():
    # Run your Flask app
    subprocess.Popen(["python", "app.py"])

# Start Flask in background
threading.Thread(target=start_flask, daemon=True).start()

# Wait for Flask to start
time.sleep(2)

# Create desktop window loading your local Flask app
webview.create_window(
    "DOTfit Desk",
    "http://127.0.0.1:5000",
    width=1200,
    height=800,
    resizable=True
)

webview.start()
